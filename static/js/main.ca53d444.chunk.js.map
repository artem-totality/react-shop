{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","config.js","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","API_KEY","process","Preloader","GoodsItem","props","name","description","price","full_background","addToBasket","Function","prototype","src","alt","onClick","style","fontSize","GoodsList","goods","length","map","item","Cart","quantity","handleBasketShow","BasketItem","deleteItemFromBasket","incQuantity","decQuantity","BasketList","order","totalPrice","reduce","acc","Alert","closeAlert","useEffect","timerId","setTimeout","clearTimeout","console","log","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","then","response","json","data","featured","itemIndex","findIndex","orderItem","newOrder","index","newItem","filter","itemId","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ca53d444.chunk.js","sourcesContent":["function Header() {\n  return (\n    <nav className=\"green darken-2\">\n      <div className=\"nav-wrapper\">\n        <a href=\"#!\" className=\"brand-logo\">\n          React Shop\n        </a>\n        <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n          <li>\n            <a href=\"!#\">Faroe Islands</a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  );\n}\n\nexport default Header;\n","function Footer() {\n  return (\n    <footer className=\"page-footer green lighten-1\">\n      <div className=\"footer-copyright\">\n        <div className=\"container\">\n          © {new Date().getFullYear()} Copyright Text\n          <a className=\"grey-text text-lighten-4 right\" href=\"#!\">\n            Repo\n          </a>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\n\nexport { API_KEY, API_URL };\n","export default function Preloader() {\n  return (\n    <div className=\"progress\">\n      <div className=\"indeterminate\"></div>\n    </div>\n  );\n}\n","function GoodsItem(props) {\n  const {\n    id,\n    name,\n    description,\n    price,\n    full_background,\n    addToBasket = Function.prototype,\n  } = props;\n  return (\n    <div className=\"card d-flex fd-column\">\n      <div className=\"card-image\">\n        <img src={full_background} alt=\"name\" />\n      </div>\n      <div className=\"card-content\">\n        <span className=\"card-title\">{name}</span>\n        <p>{description}</p>\n      </div>\n      <div className=\"card-action\">\n        <button\n          className=\"btn\"\n          onClick={() =>\n            addToBasket({\n              id,\n              name,\n              price,\n            })\n          }\n        >\n          Купить\n        </button>\n        <span className=\"right\" style={{ fontSize: '1.8rem' }}>\n          {price} руб.\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport default GoodsItem;\n","import GoodsItem from './GoodsItem';\n\nfunction GoodsList(props) {\n  const { goods = [], addToBasket = Function.prototype } = props;\n\n  if (!goods.length) {\n    return <h3>Ничего не найдено</h3>;\n  }\n\n  return (\n    <div className=\"goods\">\n      {goods.map((item) => (\n        <GoodsItem key={item.id} {...item} addToBasket={addToBasket} />\n      ))}\n    </div>\n  );\n}\n\nexport default GoodsList;\n","function Cart(props) {\n  const { quantity = 0, handleBasketShow = Function.prototype } = props;\n\n  return (\n    <div className=\"cart blue darken-4 white-text\" onClick={handleBasketShow}>\n      <i className=\"material-icons\">shopping_cart</i>\n      {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n    </div>\n  );\n}\n\nexport default Cart;\n","function BasketItem(props) {\n  const {\n    id,\n    name,\n    price,\n    quantity,\n    deleteItemFromBasket = Function.prototype,\n    incQuantity = Function.prototype,\n    decQuantity = Function.prototype,\n  } = props;\n  return (\n    <li className=\"collection-item \">\n      {name}{' '}\n      <i\n        className=\"material-icons basket-quantity\"\n        onClick={() => decQuantity(id)}\n      >\n        remove\n      </i>{' '}\n      x {quantity}{' '}\n      <i\n        className=\"material-icons basket-quantity\"\n        onClick={() => incQuantity(id)}\n      >\n        add\n      </i>{' '}\n      = {price * quantity} руб.\n      <span\n        className=\"secondary-content\"\n        onClick={() => deleteItemFromBasket(id)}\n      >\n        <i className=\"material-icons iteme-delete\">close</i>\n      </span>\n    </li>\n  );\n}\n\nexport default BasketItem;\n","import BasketItem from './BasketItem';\n\nfunction BasketList(props) {\n  const {\n    order = [],\n    handleBasketShow = Function.prototype,\n    deleteItemFromBasket = Function.prototype,\n    incQuantity = Function.prototype,\n    decQuantity = Function.prototype,\n  } = props;\n\n  const totalPrice = order.reduce(\n    (acc, item) => acc + item.price * item.quantity,\n    0\n  );\n\n  return (\n    <ul className=\"collection basket-list\">\n      <li className=\"collection-item active\">Корзина</li>\n      {order.length ? (\n        order.map((item) => (\n          <BasketItem\n            key={item.id}\n            {...item}\n            deleteItemFromBasket={deleteItemFromBasket}\n            incQuantity={incQuantity}\n            decQuantity={decQuantity}\n          />\n        ))\n      ) : (\n        <li className=\"collection-item \">Корзина пустая</li>\n      )}\n\n      <li className=\"collection-item active d-flex ai-center\">\n        Общая стоимость: {totalPrice} руб.\n        <button className=\"btn basket-submit\">Оформить</button>\n      </li>\n      <i className=\"material-icons basket-close\" onClick={handleBasketShow}>\n        close\n      </i>\n    </ul>\n  );\n}\n\nexport default BasketList;\n","import { useEffect } from 'react';\n\nfunction Alert(props) {\n  const { name = '', closeAlert = Function.prototype } = props;\n\n  useEffect(() => {\n    let timerId = setTimeout(closeAlert, 1500);\n    return () => clearTimeout(timerId);\n    //eslint-disable-next-line\n  }, [name]);\n\n  return (\n    <div id=\"toast-container\">\n      <div className=\"toast\">{name} добавлен в корзину</div>\n    </div>\n  );\n}\n\nexport default Alert;\n","import { useState, useEffect } from 'react';\nimport { API_KEY, API_URL } from '../config';\n\nimport Preloader from './Preloader';\nimport GoodsList from './GoodsList';\nimport Cart from './Cart';\nimport BasketList from './BasketList';\nimport Alert from './Alert';\n\nconsole.log(API_KEY);\n\nfunction Shop() {\n  const [goods, setGoods] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  const [isBasketShow, setBasketShow] = useState(false);\n  const [alertName, setAlertName] = useState('');\n\n  useEffect(function getGoods() {\n    fetch(API_URL, {\n      headers: { Authorization: API_KEY },\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        data.featured && setGoods(data.featured);\n        setLoading(false);\n      });\n  }, []);\n\n  const addToBasket = (item) => {\n    const itemIndex = order.findIndex((orderItem) => orderItem.id === item.id);\n\n    if (itemIndex !== -1) {\n      const newOrder = order.map((orderItem, index) => {\n        if (index === itemIndex) {\n          return {\n            ...orderItem,\n            quantity: orderItem.quantity + 1,\n          };\n        } else {\n          return orderItem;\n        }\n      });\n      setOrder(newOrder);\n    } else {\n      const newItem = {\n        ...item,\n        quantity: 1,\n      };\n      setOrder([...order, newItem]);\n    }\n\n    setAlertName(item.name);\n  };\n\n  const handleBasketShow = () => {\n    setBasketShow(!isBasketShow);\n  };\n\n  const deleteItemFromBasket = (id) => {\n    const newOrder = order.filter((item) => item.id !== id);\n    setOrder(newOrder);\n  };\n\n  const incQuantity = (itemId) => {\n    const newOrder = order.map((orderItem) => {\n      if (orderItem.id === itemId) {\n        return {\n          ...orderItem,\n          quantity: orderItem.quantity + 1,\n        };\n      } else {\n        return orderItem;\n      }\n    });\n    setOrder(newOrder);\n  };\n\n  const decQuantity = (itemId) => {\n    const newOrder = order.map((orderItem) => {\n      if (orderItem.id === itemId) {\n        if (orderItem.quantity > 1) {\n          return {\n            ...orderItem,\n            quantity: orderItem.quantity - 1,\n          };\n        }\n      }\n      return orderItem;\n    });\n    setOrder(newOrder);\n  };\n\n  const closeAlert = () => setAlertName('');\n\n  return (\n    <main className=\"container content\">\n      <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\n      {loading ? (\n        <Preloader />\n      ) : (\n        <GoodsList goods={goods} addToBasket={addToBasket} />\n      )}\n\n      {isBasketShow && (\n        <BasketList\n          order={order}\n          handleBasketShow={handleBasketShow}\n          deleteItemFromBasket={deleteItemFromBasket}\n          incQuantity={incQuantity}\n          decQuantity={decQuantity}\n        />\n      )}\n\n      {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\n    </main>\n  );\n}\n\nexport default Shop;\n","import Header from './components/Header';\nimport Footer from './components/Footer';\nimport Shop from './components/Shop';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}